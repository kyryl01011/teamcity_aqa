{"name": "Run build configuration as generated user", "status": "passed", "description": "Super-admin creates new user, new user creates project, project build configuration and runs it", "steps": [{"name": "Create test user with fake user-data, generate fake project data", "status": "passed", "steps": [{"name": "Create user with data: {'username': 'military', 'password': 'yiZ98lblaNo', 'email': 'xmeadows@example.com', 'roles': {'role': [{'roleId': 'PROJECT_ADMIN', 'scope': 'g'}]}}", "status": "passed", "steps": [{"name": "Sending POST request to http://localhost:8111/app/rest/users with data: {'username': 'military', 'password': 'yiZ98lblaNo', 'email': 'xmeadows@example.com', 'roles': {'role': [{'roleId': 'PROJECT_ADMIN', 'scope': 'g'}]}}, expected_status: 200", "status": "passed", "start": 1747078621134, "stop": 1747078621202}], "start": 1747078621134, "stop": 1747078621202}, {"name": "Auth user with creds: \"('military', 'yiZ98lblaNo')\" and get csrf token", "status": "passed", "steps": [{"name": "Sending GET request to http://localhost:8111/authenticationTest.html?csrf with data: None, expected_status: 200", "status": "passed", "start": 1747078621203, "stop": 1747078621218}, {"name": "Updating session headers: {'X-TC-CSRF-Token': '2a805c52-da8b-4a86-8aa4-2595394d107c'}", "status": "passed", "start": 1747078621218, "stop": 1747078621218}], "start": 1747078621203, "stop": 1747078621218}], "attachments": [{"name": "Generated project data", "source": "2ca0ce5f-e456-4786-b4fe-8e0b6104f9f1-attachment.json", "type": "application/json"}], "start": 1747078621133, "stop": 1747078621218}, {"name": "Send request to create new project", "status": "passed", "steps": [{"name": "Create project with data: {'parentProject': {'locator': '_Root'}, 'name': 'might', 'id': 'uzMQhQZE1nb', 'copyAllAssociatedSettings': True}", "status": "passed", "steps": [{"name": "Sending POST request to http://localhost:8111/app/rest/projects with data: {'parentProject': {'locator': '_Root'}, 'name': 'might', 'id': 'uzMQhQZE1nb', 'copyAllAssociatedSettings': True}, expected_status: 200", "status": "passed", "start": 1747078621219, "stop": 1747078621282}], "start": 1747078621219, "stop": 1747078621282}], "start": 1747078621218, "stop": 1747078621282}, {"name": "Check if generated fake project ID: \"uzMQhQZE1nb\" equals ID from respond \"uzMQhQZE1nb\"", "status": "passed", "start": 1747078621282, "stop": 1747078621282}, {"name": "Create build conf for created project uzMQhQZE1nb", "status": "passed", "steps": [{"name": "Create build configuration with data: {'id': 'W9cYTi7il8y', 'name': 'necessary', 'project': {'id': 'uzMQhQZE1nb'}, 'steps': {'name': 'act', 'type': 'street', 'properties': {'property': [{'name': 'script.content', 'value': \"echo 'Hello World!'\"}, {'name': 'teamcity.step.mode', 'value': 'default'}, {'name': 'use.custom.script', 'value': 'true'}]}}}", "status": "passed", "steps": [{"name": "Sending POST request to http://localhost:8111/app/rest/buildTypes with data: {'id': 'W9cYTi7il8y', 'name': 'necessary', 'project': {'id': 'uzMQhQZE1nb'}, 'steps': {'name': 'act', 'type': 'street', 'properties': {'property': [{'name': 'script.content', 'value': \"echo 'Hello World!'\"}, {'name': 'teamcity.step.mode', 'value': 'default'}, {'name': 'use.custom.script', 'value': 'true'}]}}}, expected_status: 200", "status": "passed", "start": 1747078621283, "stop": 1747078621347}], "start": 1747078621283, "stop": 1747078621347}], "attachments": [{"name": "Generated project data", "source": "60befe1b-9d72-45f2-aa84-84fdb58e0718-attachment.json", "type": "application/json"}], "start": 1747078621282, "stop": 1747078621347}, {"name": "Check if created fake build conf ID: \"W9cYTi7il8y\" equals ID from respond \"W9cYTi7il8y\"", "status": "passed", "start": 1747078621347, "stop": 1747078621347}, {"name": "Test run created project build configuration with id: W9cYTi7il8y", "status": "passed", "steps": [{"name": "Run build configuration with data: {'buildType': {'id': 'W9cYTi7il8y'}}", "status": "passed", "steps": [{"name": "Sending POST request to http://localhost:8111/app/rest/buildQueue with data: {'buildType': {'id': 'W9cYTi7il8y'}}, expected_status: 200", "status": "passed", "start": 1747078621348, "stop": 1747078621420}], "start": 1747078621348, "stop": 1747078621420}], "attachments": [{"name": "Generated project data", "source": "a1da1120-c79b-415d-916c-91dfc920bf41-attachment.json", "type": "application/json"}], "start": 1747078621347, "stop": 1747078621420}, {"name": "Verify that build with create fake id: \"W9cYTi7il8y\" equals to build conf that was launched: \"W9cYTi7il8y\"", "status": "passed", "start": 1747078621420, "stop": 1747078621420}], "attachments": [{"name": "log", "source": "85fbb3df-6910-4f15-a587-58215138b298-attachment.txt", "type": "text/plain"}], "start": 1747078621133, "stop": 1747078621420, "uuid": "155886c6-0f27-4059-bf99-a7473549c36b", "historyId": "c2316a4eab3ef40e131c7f4224980ff1", "testCaseId": "c2316a4eab3ef40e131c7f4224980ff1", "fullName": "tests.backend.test_project_api.TestProjectManagement#test_successfully_run_build_as_user", "labels": [{"name": "feature", "value": "Manage projects"}, {"name": "story", "value": "As project admin run build configuration"}, {"name": "severity", "value": "critical"}, {"name": "parentSuite", "value": "tests.backend"}, {"name": "suite", "value": "test_project_api"}, {"name": "subSuite", "value": "TestProjectManagement"}, {"name": "host", "value": "apachai"}, {"name": "thread", "value": "5064-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.backend.test_project_api"}], "links": [{"type": "link", "url": "https://www.jetbrains.com/help/teamcity/rest/start-and-cancel-builds.html", "name": "documentation"}]}